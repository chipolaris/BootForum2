<div class="flex items-center justify-center min-h-screen bg-gray-100 px-4 sm:px-6 lg:px-8">
  <div class="w-full max-w-md space-y-6 bg-white p-8 sm:p-10 rounded-lg shadow-md text-center">

    <!-- Loading State -->
    <div *ngIf="isLoading">
      <p-progressSpinner styleClass="w-12 h-12" strokeWidth="6" animationDuration=".8s"></p-progressSpinner>
      <p class="mt-4 text-lg font-medium text-gray-700">Confirming your email...</p>
    </div>

    <!-- Success State -->
    <div *ngIf="isSuccess && confirmationData">
      <!-- Success Icon -->
      <svg class="mx-auto h-12 w-12 text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      <h2 class="mt-5 text-2xl font-bold tracking-tight text-gray-900">
        Email Confirmed Successfully!
      </h2>
      <p *ngIf="generalMessage" class="mt-1 text-sm text-gray-600">{{ generalMessage }}</p>

      <div class="mt-4 text-left bg-green-50 border border-green-200 p-4 rounded-md text-sm text-green-800">
        <p><strong>Username:</strong> {{ confirmationData['username'] }}</p>
        <p><strong>Email:</strong> {{ confirmationData['email'] }}</p>
        <p class="mt-2">Your account is now active.</p>
      </div>

      <div class="mt-6">
        <a routerLink="/app/login" class="inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
          Proceed to Login
        </a>
      </div>
    </div>

    <!-- Error State -->
    <div *ngIf="isError">
      <!-- Error Icon -->
      <svg class="mx-auto h-12 w-12 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
      </svg>
      <h2 class="mt-5 text-2xl font-bold tracking-tight text-red-700">
        Email Confirmation Failed
      </h2>
      <p *ngIf="generalMessage" class="mt-1 text-sm text-gray-600">{{ generalMessage }}</p>

      <div *ngIf="errorMessages.length > 0" class="mt-4 text-left bg-red-50 border border-red-200 p-4 rounded-md text-sm text-red-800">
        <p class="font-medium">Please check the following issues:</p>
        <ul class="list-disc list-inside mt-1 space-y-1">
          <li *ngFor="let msg of errorMessages">{{ msg }}</li>
        </ul>
        <p class="mt-2">This could be due to an expired link, an already confirmed email, or an invalid key.</p>
      </div>

      <div class="mt-6 space-x-4">
        <a routerLink="/app/login" class="inline-flex justify-center rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
          Go to Login
        </a>
        <!-- Optional: Link back to request a new confirmation email -->
        <!--
        <a routerLink="/resend-confirmation" class="inline-flex justify-center rounded-md border border-transparent bg-indigo-100 py-2 px-4 text-sm font-medium text-indigo-700 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
         Resend Confirmation
       </a>
       -->
      </div>
    </div>

  </div>
</div>
